{"version":3,"sources":["lib/utils.js","lib/markup/photodiode.js","lib/markup/stimuli.js","config/trigger.js","config/main.js","trials/camera.js","assets/images sync nonrecursive //.(png|jpe?g|svg)$","assets/images/blue_payout_correct_10.png","assets/images/blue_payout_correct_100.png","components/Login.jsx","lib/markup/eventMarkerMessage.js","trials/holdUpMarker.js","trials/startCode.js","timelines/preamble.js","timelines/taskTrial.js","lib/markup/earnings.js","timelines/taskBlock.js","lib/taskUtils.js","config/practice.js","config/tutorial.js","config/experiment.js","trials/quizTrials.js","timelines/main.js","components/JsPsychExperiment.jsx","firebase.js","App.jsx","index.js"],"names":["__webpack_require__","d","__webpack_exports__","sleep","deepCopy","formatDollars","getProlificId","getTurkUniqueId","beep","r","jspsych_react__WEBPACK_IMPORTED_MODULE_0__","ms","Promise","resolve","setTimeout","obj","JSON","parse","stringify","amount","parseFloat","toFixed","keys","map","turkInfo","jsPsych","turk","concat","workerId","assignmentId","variable","vars","window","location","search","substring","split","i","length","pair","decodeURIComponent","getQueryVariable","audioCodes","context","AudioContext","o","createOscillator","g","createGain","type","connect","frequency","setValueAtTime","console","log","currentTime","destination","start","stop","photodiodeGhostBox","pdSpotEncode","_config_main__WEBPACK_IMPORTED_MODULE_0__","_config_trigger__WEBPACK_IMPORTED_MODULE_1__","jquery__WEBPACK_IMPORTED_MODULE_2__","jquery__WEBPACK_IMPORTED_MODULE_2___default","n","ipcRenderer","config","USE_ELECTRON","electron","require","class_","USE_PHOTODIODE","taskCode","numBlinks","eventCodes","open_task","repeat_pulse_for","callback","$","css","background-color","pulse_for","send","baseStimulus","element","prompt","arguments","undefined","centered","module","exports","fixation","evidence","show_earnings","test_connect","taskName","defaultBlockSettings","lang","lodash__WEBPACK_IMPORTED_MODULE_1__","lodash__WEBPACK_IMPORTED_MODULE_1___default","_trigger__WEBPACK_IMPORTED_MODULE_2__","_brown_ccv_behavioral_task_trials__WEBPACK_IMPORTED_MODULE_3__","_lib_utils__WEBPACK_IMPORTED_MODULE_4__","USE_MTURK","outsideTurk","USE_PROLIFIC","USE_FIREBASE","process","REACT_APP_FIREBASE","_unused","USE_CAMERA","REACT_APP_VIDEO","USE_EEG","mlang","_","merge","conditions","repeats_per_condition","is_practice","is_tutorial","photodiode_active","init","USE_VOLUME","cameraStart","document","title","markup","instructions","camera","stimulus","choices","continue","button","response_ends_trial","on_load","participantId","data","get","values","participant_id","getElementById","handleEvents","stream","recorder","srcObject","recordedChunks","MediaRecorder","mimeType","addEventListener","e","size","push","blob","media","reader","FileReader","fileName","Date","now","onload","readyState","buffer","Buffer","result","readAsArrayBuffer","saveBlob","Blob","navigator","mediaDevices","getUserMedia","video","then","desktopCapturer","getSources","types","_ref","Object","_home_runner_work_hello_honeycomb_hello_honeycomb_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_regeneratorRuntime","mark","_callee","sources","_iterator","_step","source","wrap","_context","prev","next","_home_runner_work_hello_honeycomb_hello_honeycomb_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__","s","done","value","name","mandatory","chromeMediaSource","chromeMediaSourceId","id","catch","error","err","f","_x","apply","this","on_finish","cameraCapture","screenCapture","alert","cameraEnd","duration","task","recording_end","trial_duration","./blue_payout_correct_10.png","./blue_payout_correct_100.png","webpackContext","req","webpackContextResolve","Error","code","p","Login","onLogin","envParticipantId","envStudyId","validationFunction","_useState","useState","_useState2","slicedToArray","setParticipant","_useState3","_useState4","studyId","setStudy","_useState5","_useState6","setError","useEffect","react_default","a","createElement","className","role","Form","onSubmit","preventDefault","loggedIn","Group","controlId","Label","Control","autoFocus","onChange","target","Button","style","width","block","disabled","eventMarkerMessage","asyncToGenerator","abrupt","eventMarker","found","holdUpMarker","focus","innerHTML","startCode","setting_up","timeline","showMessage","responseType","message","responseEndsTrial","buttons","preamble","taskTrial","blockSettings","blockDetails","condition","earnings","onstart","Math","random","taskBlock","startingOpts","startingOptions","c","range","shuffle","flatten","generateStartingOpts","block_earnings","optimal_earnings","continue_block","blockStart","block_settings","unshift","practiceBlock","tutorialBlock","exptBlock1","exptBlock2","ask","quiz","age","res","answer","stmAge","ageCheck","survey","stmSl","direction","slider","right","sliderCheck","abstain","surveyPreamble1","survey_1","surveyPreamble2","ius","iusOptions","options","not","little","somewhat","very","entirely","iusPrompts","upset","frustration","full_life","surprise_avoid","unforeseen_spoil","uncertainty_paralysis","uncertainty_malfunction","future","surprise_intolerance","doubt_paralysis","organize","escape","iusSurvey","multiSurvey","prompts","ansChoices","debriefOptions","debriefing","confirm_completion","debrief","demographicsAge","demographics_age","demographicsPreamble1","demo_1","demographicsPreamble2","demo_2","demographicsPreamble3","demo_3","openAnswerQuestions","demoMultiChoiceOptions","ethnicity","demographics_ethnicity","hispanic_latino","no_hispanic_latino","race","demographics_race","asian","african_american","caucasian","native_american_alaskan","native_hawaiian_pacific_islander","other","yesNo","demographics_binary","yes","no","gender","demographics_gender","female","male","demoMultiChoicePrompts","demographics_english","multiChoiceQuestions","diagnosesQuestions","diagnoses","diagnosesOptions","demographics_diagnoses","parkinsons","schizophrenia","ocd","depression","demographics","primaryTimeline","countdown","message1","message2","splice","end","mturkTimeline","tl","JsPsychExperiment","dataUpdateFunction","dataFinishFunction","experiment","settings","on_data_update","apiKey","REACT_APP_apiKey","authDomain","REACT_APP_authDomain","databaseURL","REACT_APP_databaseURL","projectId","REACT_APP_projectId","storageBucket","REACT_APP_storageBucket","messagingSenderId","REACT_APP_messagingSenderId","appId","REACT_APP_appId","db","firebase","initializeApp","firestore","hostname","useEmulator","initParticipant","startDate","collection","doc","set","start_time","app_version","appVersion","app_platform","platform","results","addToFirebase","study_id","start_date","update","FieldValue","arrayUnion","App","toISOString","setLogin","setRenderer","psiturk","setPsiturk","_useState7","_useState8","setEnvParticipantId","_useState9","_useState10","setEnvStudyId","_useState11","_useState12","currentMethod","setMethod","_useState13","_useState14","reject","setReject","query","URLSearchParams","defaultValidation","App_regeneratorRuntime","defaultFunction","setLoggedIn","useCallback","addProperties","task_version","version","credentials","sendSync","lodash","noConflict","turkId","PsiTurk","pID","Fragment","components_JsPsychExperiment","desktop","mturk","recordTrialData","default","_ref2","_callee2","_context2","saveData","completeHIT","completePsiturk","localSave","components_Login","ReactDOM","render","src_App"],"mappings":"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","file":"static/js/main.86a30f73.chunk.js","sourcesContent":["import { jsPsych } from 'jspsych-react'\nimport requireContext from 'require-context.macro'\n\nconst sleep = (ms) => {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n\n// add a random number between 0 and offset to the base number\nconst jitter = (base, offset) => (\n  base + Math.floor(Math.random() * Math.floor(offset))\n)\n\n// add a random number between 0 and 50 to the base number\nconst jitter50 = (base) => jitter(base, 50)\n\n// flip a coin\nconst randomTrue = () => Math.random() > 0.5\n\n// deeply copy an object\nconst deepCopy = (obj) => JSON.parse(JSON.stringify(obj))\n\n// format a number as a dollar amount\nconst formatDollars = (amount) => '$' + parseFloat(amount).toFixed(2)\n\n\n// create a pre-trial wait period\nconst generateWaitSet = (trial, waitTime) => {\n  let waitTrial = Object.assign({}, trial)\n  waitTrial.trial_duration = waitTime\n  waitTrial.response_ends_trial = false\n  waitTrial.prompt = '-'\n\n  return [waitTrial, trial]\n}\n\nconst keypressResponse = (info) => {\n  const data = {\n    key_press: info.key\n  }\n\n  jsPsych.finishTrial(data)\n}\n\nconst startKeypressListener = () => {\n  let keyboardListener = jsPsych.pluginAPI.getKeyboardResponse({\n    callback_function: keypressResponse,\n    valid_responses: jsPsych.ALL_KEYS,\n    persist: false\n  })\n\n  return keyboardListener\n}\n\n// import images\nconst importAll = (r) => {\n  return r.keys().map(r);\n}\n\nconst images = importAll(requireContext('../assets/images', false, /\\.(png|jpe?g|svg)$/));\n\nconst getTurkUniqueId = () => {\n  const turkInfo = jsPsych.turk.turkInfo()\n  const uniqueId = `${turkInfo.workerId}:${turkInfo.assignmentId}`\n  return uniqueId\n}\n\nconst getQueryVariable = (variable) => {\n  let query = window.location.search.substring(1);\n  let vars = query.split(\"&\");\n  for (let i = 0; i < vars.length; i++) {\n    let pair = vars[i].split(\"=\");\n    if (decodeURIComponent(pair[0]) === variable) {\n      return decodeURIComponent(pair[1]);\n    }\n  }\n};\n\nconst getProlificId = () => {\n  const prolificId = getQueryVariable(\"PROLIFIC_PID\");\n  return prolificId\n};\n\nconst beep = (audioCodes) => {\n  const context = new AudioContext()\n  const o = context.createOscillator()\n  const g = context.createGain()\n  o.type = audioCodes.type\n  o.connect(g)\n  o.frequency.setValueAtTime(audioCodes.frequency, 0)\n  console.log(context.currentTime)\n  g.connect(context.destination)\n  o.start()\n  o.stop(context.currentTime + 0.4)\n}\n\n\nexport {\n  sleep,\n  jitter,\n  jitter50,\n  randomTrue,\n  deepCopy,\n  formatDollars,\n  generateWaitSet,\n  images,\n  startKeypressListener,\n  getProlificId,\n  getTurkUniqueId,\n  beep\n}\n","import { config } from \"../../config/main\";\nimport { eventCodes } from \"../../config/trigger\";\nimport $ from \"jquery\";\n\n// conditionally load electron and psiturk based on MTURK config variable\nlet ipcRenderer = false;\nif (config.USE_ELECTRON) {\n  const electron = window.require(\"electron\");\n  ipcRenderer = electron.ipcRenderer;\n}\n\n// Relies on styling in App.css, generate PD spot\nconst photodiodeGhostBox = () => {\n  const class_ = config.USE_PHOTODIODE ? \"visible\" : \"invisible\";\n\n  const markup = `<div class=\"photodiode-box ${class_}\" id=\"photodiode-box\">\n\t\t\t\t\t\t\t\t\t<span id=\"photodiode-spot\" class=\"photodiode-spot\"></span>\n  \t\t\t\t\t\t\t\t</div>`;\n  return markup;\n};\n\nconst pdSpotEncode = (taskCode) => {\n  function pulse_for(ms, callback) {\n    $(\".photodiode-spot\").css({ \"background-color\": \"black\" });\n    setTimeout(() => {\n      $(\".photodiode-spot\").css({ \"background-color\": \"white\" });\n      callback();\n    }, ms);\n  }\n\n  function repeat_pulse_for(ms, i) {\n    if (i > 0) {\n      pulse_for(ms, () => {\n        setTimeout(() => {\n          repeat_pulse_for(ms, i - 1);\n        }, ms);\n      });\n    }\n  }\n\n  if (config.USE_PHOTODIODE) {\n    const blinkTime = 40;\n    let numBlinks = taskCode;\n    if (taskCode < eventCodes.open_task) numBlinks = 1;\n    repeat_pulse_for(blinkTime, numBlinks);\n    if (ipcRenderer) ipcRenderer.send(\"trigger\", taskCode);\n  }\n};\n\nexport { photodiodeGhostBox, pdSpotEncode };\n","const baseStimulus = (element, prompt = false, centered = false) => {\n  const class_ = centered\n    ? \"center_container\"\n    : prompt\n    ? \"main-prompt\"\n    : \"main\";\n  return `<div class=${class_}>${element}</div>`;\n};\n\nexport { baseStimulus };\n","// NOTE - these event codes must match what is in public/config/trigger.js\nconst eventCodes = {\n\tfixation: 1,\n\tevidence: 5,\n\tshow_earnings: 7,\n\ttest_connect: 32,\n\topen_task: 18\n}\n\n// this is module.exports isntead of just exports as it is also imported into the electron app\nmodule.exports = {\n\teventCodes\n}\n","// config/main.js\n// This is the main configuration file where universal and default settings should be placed.\n// These settins can then be imported anywhere in the app as they are exported at the botom of the file.\n\nimport { jsPsych } from \"jspsych-react\";\nimport _ from \"lodash\";\nimport { eventCodes } from \"./trigger\";\nimport { init } from \"@brown-ccv/behavioral-task-trials\";\nimport { getProlificId } from \"../lib/utils\";\n\n// mapping of letters to key codes\nconst keys = {\n  A: 65,\n  B: 66,\n  C: 67,\n  F: 70,\n  J: 74,\n  space: 32,\n};\n\n// audio codes\nconst audioCodes = {\n  frequency: 100 * (eventCodes.open_task - 9),\n  type: \"sine\",\n};\n\nconst taskName = \"honeycomb template\";\n\n// is this mechanical turk?\nlet USE_MTURK = !jsPsych.turk.turkInfo().outsideTurk;\nlet USE_PROLIFIC = getProlificId() && !USE_MTURK;\nlet USE_ELECTRON = true;\nlet USE_FIREBASE = process.env.REACT_APP_FIREBASE === \"true\";\n\ntry {\n  window.require(\"electron\");\n} catch {\n  USE_ELECTRON = false;\n}\n\n// whether or not to ask the participant to adjust the volume\nconst USE_VOLUME = process.env.REACT_APP_VOLUME === \"true\";\n// these variables depend on USE_ELECTRON\n// whether or not to enable video\nconst USE_CAMERA = process.env.REACT_APP_VIDEO === \"true\" && USE_ELECTRON;\n// whether or not the EEG/event marker is available\nconst USE_EEG =\n  process.env.REACT_APP_USE_EEG === \"true\" && USE_ELECTRON;\n// whether or not the photodiode is in use\nconst USE_PHOTODIODE =\n  process.env.REACT_APP_USE_PHOTODIODE === \"true\" && USE_ELECTRON;\n\n// get language file\nconst lang = require(\"../language/en_us.json\");\nif (!USE_ELECTRON) {\n  // if this is mturk, merge in the mturk specific language\n  const mlang = require(\"../language/en_us.mturk.json\");\n  _.merge(lang, mlang);\n}\n\nconst defaultBlockSettings = {\n  conditions: [\"a\", \"b\", \"c\"],\n  repeats_per_condition: 1, // number of times every condition is repeated\n  is_practice: false,\n  is_tutorial: false,\n  photodiode_active: false,\n};\n\n// setting config for trials\nconst config = init({\n  USE_PHOTODIODE,\n  USE_EEG,\n  USE_ELECTRON,\n  USE_MTURK,\n  USE_VOLUME,\n  USE_CAMERA,\n  USE_PROLIFIC,\n  USE_FIREBASE\n});\n\nexport {\n  taskName,\n  keys,\n  defaultBlockSettings,\n  lang,\n  eventCodes,\n  config,\n  audioCodes,\n};\n","import { lang, taskName, config} from '../config/main'\nimport { photodiodeGhostBox } from '../lib/markup/photodiode'\nimport { baseStimulus } from '../lib/markup/stimuli'\nimport { jsPsych } from 'jspsych-react'\n\n\nlet ipcRenderer = false;\nif (config.USE_ELECTRON) {\n  const electron = window.require('electron');\n  ipcRenderer  = electron.ipcRenderer;\n}\n\nfunction saveBlob(blob, media, participantId) {\n  let reader = new FileReader()\n  let fileName =`pid_${participantId}_${media}_${Date.now()}.webm`\n  reader.onload = function() {\n      if (reader.readyState === 2) {\n          var buffer = new Buffer(reader.result)\n          ipcRenderer.send('save_video', fileName, buffer)\n          console.log(`Saving ${JSON.stringify({ fileName, size: blob.size })}`)\n      }\n  }\n  reader.readAsArrayBuffer(blob)\n}\n\nconst cameraStart = () => {\n  document.title = taskName\n  let markup = `\n  <div class=\"d-flex flex-column align-items-center\">\n  <p>${lang.instructions.camera}</p>\n  <video id=\"camera\" width=\"640\" height=\"480\" autoplay></video>\n  </div>\n  `\n  let stimulus = baseStimulus(markup, true) +\n                 photodiodeGhostBox()\n\n  return {\n    type: 'html_button_response',\n    stimulus: stimulus,\n    choices: [ lang.prompt.continue.button],\n    response_ends_trial: true,\n    on_load: () => {\n      // Grab elements, create settings, etc.\n      // Elements for taking the snapshot\n      const participantId = jsPsych.data.get().values()[0].participant_id\n\n      let camera = document.getElementById('camera');\n\n\n      const handleEvents = function(stream, recorder) {\n        console.log(stream)\n        if (recorder === \"cameraCapture\") {\n          camera.srcObject = stream;\n        }\n      \n        \n        const options = {mimeType: 'video/webm'};\n        const recordedChunks = [];\n        window[recorder] = new MediaRecorder(stream, options);\n    \n        window[recorder].addEventListener('dataavailable', function(e) {\n          if (e.data.size > 0) {\n            recordedChunks.push(e.data);\n          }\n        });\n    \n        window[recorder].addEventListener('stop', function() {\n          const blob = new Blob(recordedChunks)\n          saveBlob(blob, recorder, participantId)\n        });\n    \n      };\n    \n      navigator.mediaDevices.getUserMedia({ video: true })\n          .then((stream) => handleEvents(stream, 'cameraCapture'));\n\n      const { desktopCapturer } = window.require('electron')\n\n      desktopCapturer.getSources({ types: ['window'] }).then(async sources => {\n        for (const source of sources) {\n          if (source.name === taskName) {\n            navigator.mediaDevices.getUserMedia({\n              video: {\n                mandatory: {\n                  chromeMediaSource: 'desktop',\n                  chromeMediaSourceId: source.id\n                }\n              }\n            }).then(stream => {\n              handleEvents(stream, 'screenCapture')\n            })\n            .catch(error => console.log(error))\n          } \n        }\n      })\n    \n    },\n    on_finish: () => {\n      if (config.USE_CAMERA) {\n        try {\n          window.cameraCapture.start()\n          window.screenCapture.start()\n        } catch (error) {\n          window.alert(\"Camera permissions were not given, if you choose to proceed, your recording will not be saved. Please restart the experiment after you have given permission.\")\n        }\n        \n      }\n    }\n  }\n}\n\nconst cameraEnd = (duration) => {\n  let stimulus = baseStimulus(`<h1>${lang.task.recording_end}</h1>`, true) + photodiodeGhostBox()\n\n   return {\n    type: 'html_keyboard_response',\n    stimulus: stimulus,\n    trial_duration: duration,\n    on_load: () => {\n      if (config.USE_CAMERA) {\n        console.log('finished')\n        try {\n          window.cameraCapture.stop()\n          window.screenCapture.stop()\n        } catch (error) {\n          window.alert(\"Your video recording was not saved\")\n        }\n        \n      }\n    }\n  }\n}\n\n\nexport {\n  cameraStart,\n  cameraEnd\n}","var map = {\n\t\"./blue_payout_correct_10.png\": 69,\n\t\"./blue_payout_correct_100.png\": 70\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 68;","module.exports = __webpack_public_path__ + \"static/media/blue_payout_correct_10.f515a81e.png\";","module.exports = __webpack_public_path__ + \"static/media/blue_payout_correct_100.ae2416c7.png\";","import React, { useState, useEffect } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\n\nfunction Login({ onLogin, envParticipantId, envStudyId, validationFunction }) {\n  // State variables for login screen\n  const [participantId, setParticipant] = useState(\"\");\n  const [studyId, setStudy] = useState(\"\");\n  const [error, setError] = useState(false);\n\n  useEffect(() => {\n    // Update based on environment variables\n    setParticipant(envParticipantId);\n    setStudy(envStudyId);\n  }, [envParticipantId, envStudyId]);\n\n  // Checks if forms are filled in\n  function validateForm() {\n    return participantId.length > 0 && studyId.length > 0;\n  }\n\n  // Function to log in participant\n  function handleSubmit(e) {\n    e.preventDefault();\n    // Validates fields\n    validationFunction(participantId, studyId)\n    // Logs in depending on result from promise\n    .then((loggedIn) => {\n      if (loggedIn) {\n        onLogin(loggedIn, studyId, participantId);\n      } else {\n        setError(true);\n      }\n    });\n  }\n\n  return (\n    <div className=\"centered-h-v\">\n      <div className=\"width-50\">\n        {error ? (\n          <div className=\"alert alert-danger\" role=\"alert\">\n            The participant ID and study ID do not match\n          </div>\n        ) : null}\n        <Form className=\"centered-h-v\" onSubmit={handleSubmit}>\n          <Form.Group className=\"width-100\" size=\"lg\" controlId=\"participantId\">\n            <Form.Label>Participant ID</Form.Label>\n            <Form.Control\n              autoFocus\n              type=\"participantId\"\n              value={participantId}\n              onChange={(e) => setParticipant(e.target.value)}\n            />\n          </Form.Group>\n          <Form.Group className=\"width-100\" size=\"lg\" controlId=\"studyId\">\n            <Form.Label>Study ID</Form.Label>\n            <Form.Control\n              type=\"studyId\"\n              value={studyId}\n              onChange={(e) => setStudy(e.target.value)}\n            />\n          </Form.Group>\n          <Button\n            style={{ width: \"100%\" }}\n            block\n            size=\"lg\"\n            type=\"submit\"\n            disabled={!validateForm()}\n          >\n            Log In\n          </Button>\n        </Form>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n","import { lang } from '../../config/main'\n\nconst eventMarkerMessage = async () => {\n\t\treturn `<span style=\"color: green;\">${lang.eventMarker.found}</span>`\n}\n\nexport default eventMarkerMessage\n","import { lang } from '../config/main'\nimport { photodiodeGhostBox } from '../lib/markup/photodiode'\nimport { baseStimulus } from '../lib/markup/stimuli'\nimport eventMarkerMessage from '../lib/markup/eventMarkerMessage'\n\nconst holdUpMarker = () => {\n  let stimulus = baseStimulus(`<div><h2 id='usb-alert'></h2></div>`, true) + photodiodeGhostBox()\n\n   return {\n    type: 'html_button_response',\n    stimulus: stimulus,\n    prompt: [`<br><h3>${lang.prompt.focus}</h3>`],\n    choices: [lang.prompt.continue.button],\n    on_load: () => (eventMarkerMessage()\n                      .then(s => document.getElementById('usb-alert')\n                      .innerHTML = s )\n                    )\n  }\n}\n\nexport default holdUpMarker\n","import { eventCodes, lang, audioCodes } from '../config/main'\nimport { photodiodeGhostBox, pdSpotEncode } from '../lib/markup/photodiode'\nimport { baseStimulus } from '../lib/markup/stimuli'\nimport { beep } from '../lib/utils'\n\nconst startCode = () => {\n  let stimulus = baseStimulus(`<h1>${lang.prompt.setting_up}</h1>`, true) + photodiodeGhostBox()\n\n   return {\n    type: 'html_keyboard_response',\n    stimulus: stimulus,\n    trial_duration: 2000,\n    on_load: () => {\n      pdSpotEncode(eventCodes.open_task)\n      beep(audioCodes)\n    }\n\n  }\n}\n\nexport default startCode\n","import holdUpMarker from \"../trials/holdUpMarker\";\nimport startCode from \"../trials/startCode\";\nimport { lang, config } from \"../config/main\";\nimport { showMessage } from \"@brown-ccv/behavioral-task-trials\";\n\nlet timeline = [showMessage(config, {\n  responseType: \"html_button_response\",\n  message: lang.task.name,\n  responseEndsTrial: true,\n  buttons: [lang.prompt.continue.button],\n})]\nif (config.USE_PHOTODIODE) {\n  timeline.push(holdUpMarker())\n  timeline.push(startCode())\n}\n\nconst preamble = {\n  type: \"html_keyboard_response\",\n  stimulus: \"\",\n  timeline: timeline\n};\n\n\n\nexport default preamble;\n","// import trials\nimport { showMessage, fixation } from \"@brown-ccv/behavioral-task-trials\";\nimport { config } from \"../config/main\";\nimport { eventCodes } from \"../config/main\";\nimport { earningsDisplay } from \"../lib/markup/earnings\";\n\nconst taskTrial = (blockSettings, blockDetails, condition) => {\n  // timeline\n  let timeline = [\n    // fixation\n    fixation(config, {\n      duration: 650,\n    }),\n    // show condition\n    showMessage(config, {\n      message: condition,\n      onstart: true,\n      taskCode: eventCodes.evidence,\n    }),\n    fixation(config, {\n      duration: 650,\n    }),\n    // end the trial\n    showMessage(config, {\n      stimulus: earningsDisplay(Math.random()),\n      taskCode: eventCodes.show_earnings,\n    }),\n  ];\n\n  return {\n    type: \"html_keyboard_response\",\n    timeline: timeline,\n  };\n};\n\nexport default taskTrial;\n","import { formatDollars } from '../utils'\n\nconst earningsDisplay = (earnings) => {\n  const bclass = (earnings >= 0) ? 'success' : 'danger'\n  return (\n    `<div class='center_container'>\n    <h1 class='text-${bclass}'>${formatDollars(earnings)}</h1>\n    </div>`\n  )\n}\n\nexport {\n  earningsDisplay\n}\n","import taskTrial from './taskTrial'\nimport { generateStartingOpts } from '../lib/taskUtils'\n\nconst taskBlock = (blockSettings) => {\n  // initialize block\n\tconst startingOpts = generateStartingOpts(blockSettings)\n\n  const blockDetails = {\n\t  block_earnings: 0.0,\n\t\toptimal_earnings: 0.0,\n\t\tcontinue_block: true\n\t}\n\n\t// timeline = loop through trials\n\tlet timeline = startingOpts.map( (condition) => taskTrial(blockSettings, blockDetails, condition))\n\n\tlet blockStart = {\n\t\ttype: 'html_keyboard_response',\n\t\tstimulus: '',\n\t\ttrial_duration: 1,\n\t\ton_finish: (data) => data.block_settings = blockSettings\n\t}\n\n\ttimeline.unshift(blockStart)\n\n  return {\n\t\ttype: 'html_keyboard_response',\n\t\ttimeline: timeline\n\t}\n}\n\nexport default taskBlock\n","// utilities specific to this app/task\n\nimport _ from 'lodash'\n\n// initialize starting conditions for each trial within a block\nconst generateStartingOpts = (blockSettings) => {\n\tlet startingOptions = blockSettings.conditions.map( (c) => {\n\t\t// Repeat each starting condition the same number of times\n\t\treturn _.range(blockSettings.repeats_per_condition).map( () => c )\n\t})\n\n\treturn _.shuffle(_.flatten(startingOptions))\n}\n\n\nexport {\n\tgenerateStartingOpts\n}\n","import { defaultBlockSettings } from './main';\nimport { deepCopy } from '../lib/utils'\n\n// PRACTICE BLOCK SETTINGS\n\n// create copy of default settings\nlet practiceBlock = deepCopy(defaultBlockSettings)\n\npracticeBlock.conditions = [\"m\", \"n\"]\npracticeBlock.repeats_per_condition = 1\n\npracticeBlock.is_practice = true\n\n// export the settings\nexport {\n\tpracticeBlock\n}\n","import { defaultBlockSettings } from './main';\nimport { deepCopy } from '../lib/utils'\n\n// TUTORIAL SETTINGS\n\n// create copy of default settings\nlet tutorialBlock = deepCopy(defaultBlockSettings)\n\n// update default settings for tutorial\ntutorialBlock.is_tutorial = true\ntutorialBlock.photodiode_active = false\n\n// export the settings\nexport {\n\ttutorialBlock\n}\n","import { defaultBlockSettings } from './main';\nimport { deepCopy } from '../lib/utils'\n\n// FIRST EXPERIMENT BLOCK SETTINGS\n\n// create copy of default settings\nlet exptBlock1 = deepCopy(defaultBlockSettings)\n\nexptBlock1.repeats_per_condition = 2\n\n// SECOND EXPERIMENT BLOCK SETTINGS\n\n// create copy of default settings\nlet exptBlock2 = deepCopy(defaultBlockSettings)\n\nexptBlock2.conditions = [\"e\", \"f\"]\nexptBlock2.repeats_per_condition = 2\n\nexport {\n  exptBlock1,\n  exptBlock2,\n}\n","import { lang, config } from \"../config/main\";\nimport {\n  survey,\n  slider,\n  multiSurvey,\n  showMessage,\n} from \"@brown-ccv/behavioral-task-trials\";\n\n// Age Check\nconst ask = lang.quiz.ask.age;\nconst res = lang.quiz.answer.age;\nconst stmAge = `<div class='instructions'><h1>${ask}<br><b>${res}</b></div>`;\n\nconst ageCheck = survey({ stimulus: stmAge });\n\n// Slider Check\nconst stmSl = lang.quiz.direction.slider.right;\n\nconst sliderCheck = slider(stmSl);\n\nconst abstain = `${lang.quiz.answer.abstain}`; // give people choice to abstain\n// Survey page headers\nconst surveyPreamble1 = lang.quiz.prompt.preamble.survey_1;\nconst surveyPreamble2 = lang.quiz.prompt.ius.preamble;\n\n// Intolerance of Uncertainty (IUS) Scale\nconst iusOptions = {\n  options: [\n    `${lang.quiz.answer.ius.not}`,\n    `${lang.quiz.answer.ius.little}`,\n    `${lang.quiz.answer.ius.somewhat}`,\n    `${lang.quiz.answer.ius.very}`,\n    `${lang.quiz.answer.ius.entirely}`,\n    abstain,\n  ],\n};\n\nconst iusPrompts = [\n  `${lang.quiz.prompt.ius.upset}`,\n  `${lang.quiz.prompt.ius.frustration}`,\n  `${lang.quiz.prompt.ius.full_life}`,\n  `${lang.quiz.prompt.ius.surprise_avoid}`,\n  `${lang.quiz.prompt.ius.unforeseen_spoil}`,\n  `${lang.quiz.prompt.ius.uncertainty_paralysis}`,\n  `${lang.quiz.prompt.ius.uncertainty_malfunction}`,\n  `${lang.quiz.prompt.ius.future}`,\n  `${lang.quiz.prompt.ius.surprise_intolerance}`,\n  `${lang.quiz.prompt.ius.doubt_paralysis}`,\n  `${lang.quiz.prompt.ius.organize}`,\n  `${lang.quiz.prompt.ius.escape}`,\n];\n\nconst iusSurvey = multiSurvey({\n  preamble: [surveyPreamble1 + surveyPreamble2],\n  prompts: iusPrompts,\n  ansChoices: iusOptions,\n});\n\n// Debrief Page (non-mTurk)\nconst debriefOptions = lang.quiz.answer.debriefing.confirm_completion;\nconst debrief = showMessage(config, {\n  responseType: \"html_button_response\",\n  responseEndsTrial: true,\n  buttons: [debriefOptions],\n});\n\n// START of Demographics Questionnaires\nconst demographicsAge = lang.quiz.ask.demographics_age;\nconst demographicsPreamble1 = lang.quiz.prompt.preamble.demo_1;\nconst demographicsPreamble2 = lang.quiz.prompt.preamble.demo_2;\nconst demographicsPreamble3 = lang.quiz.prompt.preamble.demo_3;\n\nconst openAnswerQuestions = survey({\n  preamble: demographicsPreamble1,\n  stimulus: demographicsAge,\n});\n\n// multi_choice_questions\nconst demoMultiChoiceOptions = {\n  ethnicity: [\n    lang.quiz.answer.demographics_ethnicity.hispanic_latino,\n    lang.quiz.answer.demographics_ethnicity.no_hispanic_latino,\n  ],\n  race: [\n    `${lang.quiz.answer.demographics_race.asian}`,\n    `${lang.quiz.answer.demographics_race.african_american}`,\n    `${lang.quiz.answer.demographics_race.caucasian}`,\n    `${lang.quiz.answer.demographics_race.native_american_alaskan}`,\n    `${lang.quiz.answer.demographics_race.native_hawaiian_pacific_islander}`,\n    `${lang.quiz.answer.demographics_race.other}`,\n  ],\n  yesNo: [\n    lang.quiz.answer.demographics_binary.yes,\n    lang.quiz.answer.demographics_binary.no,\n  ],\n  gender: [\n    lang.quiz.answer.demographics_gender.female,\n    lang.quiz.answer.demographics_gender.male,\n    lang.quiz.answer.demographics_gender.other,\n  ],\n};\n\nconst demoMultiChoicePrompts = [\n  `${lang.quiz.ask.demographics_ethnicity}`,\n  `${lang.quiz.ask.demographics_race}`,\n  `${lang.quiz.ask.demographics_english}`,\n  `${lang.quiz.ask.demographics_gender}`,\n];\n\nconst multiChoiceQuestions = multiSurvey({\n  preamble: demographicsPreamble2,\n  prompts: demoMultiChoicePrompts,\n  ansChoices: demoMultiChoiceOptions,\n});\n\n// multi_select_questions\nconst diagnosesQuestions = lang.quiz.ask.diagnoses;\n\nconst diagnosesOptions = {\n  diagnoses: [\n    lang.quiz.answer.demographics_diagnoses.no,\n    lang.quiz.answer.demographics_diagnoses.parkinsons,\n    lang.quiz.answer.demographics_diagnoses.schizophrenia,\n    lang.quiz.answer.demographics_diagnoses.ocd,\n    lang.quiz.answer.demographics_diagnoses.depression,\n  ],\n};\n\nconst multiSelectQuestions = multiSurvey({\n  responseType: \"survey_multi_select\",\n  preamble: demographicsPreamble3,\n  prompts: [diagnosesQuestions],\n  ansChoices: diagnosesOptions,\n});\n\n// demographics\nconst demographics = {\n  timeline: [\n    openAnswerQuestions, // age, sex\n    multiChoiceQuestions, // ethnicity, race, english_fluency\n    multiSelectQuestions, // diagnoses\n  ],\n};\n\nexport { ageCheck, sliderCheck, iusSurvey, debrief, demographics };\n","import preamble from \"./preamble\";\nimport taskBlock from \"./taskBlock\";\nimport { countdown } from \"@brown-ccv/behavioral-task-trials\";\nimport { cameraStart, cameraEnd } from \"../trials/camera\"\nimport { lang, config } from \"../config/main\";\nimport { practiceBlock } from \"../config/practice\";\nimport { tutorialBlock } from \"../config/tutorial\";\nimport { exptBlock1, exptBlock2 } from \"../config/experiment\";\nimport { showMessage } from \"@brown-ccv/behavioral-task-trials\";\nimport {\n  ageCheck,\n  sliderCheck,\n  demographics,\n  iusSurvey,\n  debrief,\n} from \"../trials/quizTrials\";\n\nlet primaryTimeline = [\n  preamble,\n  ageCheck,\n  sliderCheck,\n  countdown({ message: lang.countdown.message1 }),\n  taskBlock(practiceBlock),\n  countdown({ message: lang.countdown.message2 }),\n  taskBlock(exptBlock1),\n  demographics,\n  iusSurvey,\n  debrief,\n];\n\nif (config.USE_CAMERA) {\n  primaryTimeline.splice(1,0,cameraStart())\n  primaryTimeline.push(cameraEnd(5000))\n}\n\nprimaryTimeline.push(showMessage(config, {\n  duration: 5000,\n  message: lang.task.end,\n}))\n\nconst mturkTimeline = [\n  preamble,\n  countdown({ message: lang.countdown.message1 }),\n  taskBlock(tutorialBlock),\n  countdown({ message: lang.countdown.message2 }),\n  taskBlock(exptBlock2),\n  showMessage(config, {\n    duration: 5000,\n    message: lang.task.end,\n  }),\n];\n\nexport const tl = config.USE_MTURK ? mturkTimeline : primaryTimeline;\n","import React from \"react\";\nimport { Experiment } from \"jspsych-react\";\nimport { tl } from \"../timelines/main\";\n\nfunction JsPsychExperiment({ dataUpdateFunction, dataFinishFunction }) {\n\n  return (\n    <div className=\"App\">\n      <Experiment\n        settings={{\n          timeline: tl,\n          on_data_update: (data) => dataUpdateFunction(data),\n          on_finish: (data) => dataFinishFunction(data),\n        }}\n      />\n    </div>\n  );\n}\nexport default JsPsychExperiment;\n","import firebase from \"firebase\";\nimport 'firebase/firestore';\n\nrequire(\"dotenv\").config();\n\n// Set collection name\nconst collectionName = \"participant_responses\";\n\n// Firebase config\nlet config = {\n  apiKey: process.env.REACT_APP_apiKey,\n  authDomain: process.env.REACT_APP_authDomain,\n  databaseURL: process.env.REACT_APP_databaseURL,\n  projectId: process.env.REACT_APP_projectId || \"no-firebase\",\n  storageBucket: process.env.REACT_APP_storageBucket,\n  messagingSenderId: process.env.REACT_APP_messagingSenderId,\n  appId: process.env.REACT_APP_appId,\n};\n\n\n// Get a Firestore instance\nvar db = firebase.initializeApp(config).firestore();\n\n// Use emulator if on localhost\nif (window.location.hostname === \"localhost\") {\n  db.useEmulator(\"localhost\", 8080);\n}\n\n// Add participant data and trial data to db\nconst initParticipant = (participantId, studyId, startDate) => {\n  // return promise with value true if participant and study id match, false otherwise\n    return db.collection(collectionName)\n    .doc(studyId)\n    .collection('participants')\n    .doc(participantId)\n    .collection('data')\n    .doc(startDate)\n    .set({ start_time: startDate, app_version: window.navigator.appVersion, app_platform: window.navigator.platform, results: []})\n    .then(()=>{\n      return true\n    })\n    .catch((error) => {\n      return false\n    });\n};\n\n// Add inidividual trials to db\nconst addToFirebase = (data) => {\n  console.log(data)\n  const participantId = data.participant_id;\n  const studyId = data.study_id;\n  const startDate = data.start_date\n  \n  db.collection(collectionName)\n    .doc(studyId)\n    .collection('participants')\n    .doc(participantId)\n    .collection('data')\n    .doc(startDate)\n    .update('results', firebase.firestore.FieldValue.arrayUnion(data))\n};\n\n// Export types that exists in Firestore\nexport {\n  db,\n  collectionName,\n  initParticipant,\n  addToFirebase\n};\n\nexport default firebase;","import React, { useState, useEffect, useCallback } from 'react'\n\nimport './App.css'\nimport 'bootstrap/dist/css/bootstrap.css'\nimport '@fortawesome/fontawesome-free/css/all.css'\n\nimport Login from './components/Login'\nimport JsPsychExperiment from './components/JsPsychExperiment'\n\nimport { jsPsych } from 'jspsych-react'\nimport { getTurkUniqueId, getProlificId, sleep } from './lib/utils'\nimport { initParticipant, addToFirebase } from './firebase'\n\nimport { config } from './config/main'\nimport { version } from '../package.json'\n\nfunction App () {\n  // Variables for time\n  const startDate = new Date().toISOString()\n  // Variables for login\n  const [loggedIn, setLogin] = useState(false)\n  const [ipcRenderer, setRenderer] = useState(false)\n  const [psiturk, setPsiturk] = useState(false)\n  const [envParticipantId, setEnvParticipantId] = useState('')\n  const [envStudyId, setEnvStudyId] = useState('')\n  const [currentMethod, setMethod] = useState('default')\n  const [reject, setReject] = useState(false)\n\n  const query = new URLSearchParams(window.location.search)\n\n  // Validation functions for desktop case and firebase\n  const defaultValidation = async () => {\n    return true\n  }\n  const firebaseValidation = (participantId, studyId) => {\n    return initParticipant(participantId, studyId, startDate)\n  }\n\n  // Adding data functions for firebase, electron adn Mturk\n  const defaultFunction = () => {}\n  const firebaseUpdateFunction = (data) => {\n    addToFirebase(data)\n  }\n  const desktopUpdateFunction = (data) => {\n    ipcRenderer.send('data', data)\n  }\n  const psiturkUpdateFunction = (data) => {\n    psiturk.recordTrialData(data)\n  }\n\n  // On finish functions for electron, Mturk\n  const defaultFinishFunction = () => {\n    jsPsych.data.get().localSave('csv', 'neuro-task.csv')\n  }\n  const desktopFinishFunction = () => {\n    ipcRenderer.send('end', 'true')\n  }\n  const psiturkFinishFunction = () => {\n    const completePsiturk = async () => {\n      psiturk.saveData()\n      await sleep(5000)\n      psiturk.completeHIT()\n    }\n    completePsiturk()\n  }\n\n  // Function to add jspsych data on login\n  const setLoggedIn = useCallback(\n    (loggedIn, studyId, participantId) => {\n      if (loggedIn) {\n        jsPsych.data.addProperties({\n          participant_id: participantId,\n          study_id: studyId,\n          start_date: startDate,\n          task_version: version\n        })\n      }\n      setLogin(loggedIn)\n    },\n    [startDate]\n  )\n\n  // Login logic\n  useEffect(() => {\n    // For testing and debugging purposes\n    console.log('Turk:', config.USE_MTURK)\n    console.log('Firebase:', config.USE_FIREBASE)\n    console.log('Prolific:', config.USE_PROLIFIC)\n    console.log('Electron:', config.USE_ELECTRON)\n    console.log('Video:', config.USE_CAMERA)\n    console.log('Volume:', config.USE_VOLUME)\n    console.log('Event Marker:', config.USE_EEG)\n    console.log('Photodiode:', config.USE_PHOTODIODE)\n    // If on desktop\n    if (config.USE_ELECTRON) {\n      const { ipcRenderer } = window.require('electron')\n      setRenderer(ipcRenderer)\n      ipcRenderer.send('updateEnvironmentVariables', config)\n      // If at home, fill in fields based on environment variables\n      const credentials = ipcRenderer.sendSync('syncCredentials')\n      if (credentials.envParticipantId) {\n        setEnvParticipantId(credentials.envParticipantId)\n      }\n      if (credentials.envStudyId) {\n        setEnvStudyId(credentials.envStudyId)\n      }\n      setMethod('desktop')\n    } else {\n      // If MTURK\n      if (config.USE_MTURK) {\n        /* eslint-disable */\n        window.lodash = _.noConflict()\n        const turkId = getTurkUniqueId()\n        setPsiturk(new PsiTurk(turkId, '/complete'))\n        setMethod('mturk')\n        setLoggedIn(true, 'mturk', turkId)\n        /* eslint-enable */\n      } else if (config.USE_PROLIFIC) {\n        const pID = getProlificId()\n        if (config.USE_FIREBASE && pID) {\n          setMethod('firebase')\n          setLoggedIn(true, 'prolific', pID)\n        } else {\n          setReject(true)\n        }\n      } else if (config.USE_FIREBASE) {\n        setMethod('firebase')\n        // Autologin with query parameters\n        const participantId = query.get('participantID')\n        const studyId = query.get('studyID')\n        if (participantId) {\n          setEnvParticipantId(participantId)\n        }\n        if (studyId) {\n          setEnvStudyId(studyId)\n        }\n      } else {\n        setMethod('default')\n      }\n    }\n    // eslint-disable-next-line\n  }, [])\n\n  if (reject) {\n    return (\n      <div className=\"centered-h-v\">\n        <div className=\"width-50 alert alert-danger\">\n          Please ask your task provider to enable firebase.\n        </div>\n      </div>\n    )\n  } else {\n    return (\n      <>\n        {loggedIn ? (\n          <JsPsychExperiment\n            dataUpdateFunction={\n              {\n                desktop: desktopUpdateFunction,\n                firebase: firebaseUpdateFunction,\n                mturk: psiturkUpdateFunction,\n                default: defaultFunction,\n              }[currentMethod]\n            }\n            dataFinishFunction={\n              {\n                desktop: desktopFinishFunction,\n                mturk: psiturkFinishFunction,\n                firebase: defaultFunction,\n                default: defaultFinishFunction\n              }[currentMethod]\n            }\n          />\n        ) : (\n          <Login\n            validationFunction={\n              {\n                desktop: defaultValidation,\n                default: defaultValidation,\n                firebase: firebaseValidation,\n              }[currentMethod]\n            }\n            envParticipantId={envParticipantId}\n            envStudyId={envStudyId}\n            onLogin={setLoggedIn}\n          />\n        )}\n      </>\n    )\n  }\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}